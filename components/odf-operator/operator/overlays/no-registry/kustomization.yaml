resources:
- github.com/redhat-cop/gitops-catalog/openshift-data-foundation-operator/operator/overlays/stable-4.16

patches:
  - patch: |-
      - op: replace
        path: /spec/template/spec/containers/0/image
        value: registry.redhat.io/openshift4/ose-cli:latest
    target:
      kind: Job
      name: enable-odf-console-plugin
  - patch: |-
      - op: replace
        path: /spec/channel
        value: stable-4.17
    target:
      kind: Subscription
      name: odf-operator
  - patch: |-
      - op: add
        path: /spec/proxy
        value:
          - alias: provider-proxy
            authorization: None
      - op: replace
        path: /apiVersion
        value: console.openshift.io/v1
    target:
      kind: ConsolePlugin
      name: odf-console
  # - patch: |
  #     apiVersion: console.openshift.io/v1
  #     kind: ConsolePlugin
  #     metadata:
  #       name: odf-console
  #       namespace: openshift-storage
  #     spec:
  #       displayName: ODF Plugin
  #       proxy:
  #       - alias: provider-proxy
  #         authorization: None
  #       service:
  #         $patch: delete
